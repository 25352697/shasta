<!DOCTYPE html>
<html>

<head>
<link rel=stylesheet href=style.css />
<link rel=icon href=CZI-new-logo.png />
</head>

<body>
    <nav role="navigation">
        <div class="nav-container">
        <ul>
                <li class="main-nav"><a href=index.html>Shasta</a></li>
                <li><a href=QuickStart.html>Quick start</a></li>
                
                <li aria-haspopup="true"> How to
                <ul class="dropdown" aria-label="submenu">
                <li><a href=Running.html>Run an assembly</a>
                <li><a href=Performance.html>Maximize assembly performance</a>
                <li><a href=BuildingFromSource.html>Build the code from source</a>
                <li><a href=InspectingResults.html>Inspect or debug assembly results
                <li><a href=Contributing.html>Contribute to Shasta</a>
                <li><a href=ReportingBugs.html>Report problems or ask questions</a>
                </ul>
            </li>
            <li aria-haspopup="true"> About
                    <ul class="dropdown" aria-label="submenu">
                            <li><a href=Motivation.html>Motivation</a></li>
                            <li><a href=CurrentStatus.html>Current status</a></li>
                            <li><a href=SupportedPlatforms.html>Supported platforms</a></li>
                            <li><a href=Acknowledgments.html>Acknowledgments</a></li>
                            <li><a href=ComputationalMethods.html>Computational methods</a></li>
                            <li><a href=Compatibility.html>Compatibility across releases</a></li>
    
                    </ul>
                </li>
    
        </ul>
        </div>
    </nav>
    <main>
<h1>Creating a new release</h1>

<ul>
<li>Make sure there are no outstanding commits or
pull requests that should be in the new release.
<li>Do some testing.
<li>Pick a release number <code>X.Y.Z</code>. 
To stay consistent with
<a href='https://semver.org'>Semantic Versioning</a>,
for now stay with <code>X=0</code>.
Increment <code>Z</code> by one if only bug fixes were made, and otherwise 
increment <code>Y</code> by one and reset <code>Z</code> to zero.
<li>Create the release on GitHub and write some release notes.

<li>On Ubuntu 16.04, with the prerequisites installed:
<ul>
<li>Use the following commands to create the tar file:
<pre>
git clone https://github.com/chanzuckerberg/shasta.git
mkdir shasta-build
cd shasta-build
cmake ../shasta -DBUILD_ID="Shasta Release X.Y.Z" -DBUILD_NATIVE=OFF
make -j install/strip
mv shasta-install shasta-Ubuntu-16.04-X.Y.Z
tar -cvf shasta-Ubuntu-16.04-X.Y.Z.tar shasta-Ubuntu-16.04-X.Y.Z</pre>
<li>Upload <code>shasta-Ubuntu-16.04-X.Y.Z.tar</code> to the GitHub page for the release.
<li>Rename <code>shasta-install/bin/shasta</code> to <code>shasta-Linux-X.Y.Z</code>
and upload it to the GitHub page for the release.
</ul>


<li>On Ubuntu 18.04, with the prerequisites installed:
<ul>
<li>Use the following commands to create the tar file:
<pre>
git clone https://github.com/chanzuckerberg/shasta.git
mkdir shasta-build
cd shasta-build
cmake ../shasta -DBUILD_ID="Shasta Release X.Y.Z" -DBUILD_NATIVE=OFF
make -j install/strip
mv shasta-install shasta-Ubuntu-18.04-X.Y.Z
tar -cvf shasta-Ubuntu-18.04-X.Y.Z.tar shasta-Ubuntu-18.04-X.Y.Z</pre>
<li>Upload <code>shasta-Ubuntu-18.04-X.Y.Z.tar</code> to the GitHub page for the release.
</ul>


<li>On macOS, with the prerequisites installed:
<ul>
<li>Use the following commands to create the tar file:
<pre>
git clone https://github.com/chanzuckerberg/shasta.git
mkdir shasta-build
cd shasta-build
cmake ../shasta -DBUILD_ID="Shasta Release X.Y.Z" -DBUILD_NATIVE=OFF
make -j install/strip
mv shasta-install/bin/shasta shasta-macOS-X.Y.Z
</pre>
<li>Upload <code>shasta-install/bin/shasta-macOS-X.Y.Z</code> to the GitHub page for the release.
</ul>

<li>Publish the release on GitHub.
<li>After the release has been published it should not be modified or deleted.
</ul>
</main>
</body>
</html>

